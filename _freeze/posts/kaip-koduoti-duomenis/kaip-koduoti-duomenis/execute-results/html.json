{
  "hash": "44bc4fd16048fc6a65b252cb8f81aa21",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Kaip koduoti duomenis?\"\ndescription: \"Duomenų kodavimas yra svarbus žingsnis prieš statistinę analizę. Sužinokite, kaip teisingai koduoti kintamuosius.\"\ndate: \"2023-02-15\"\ncategories: [duomenų-paruošimas, R, pradedantiesiems]\neditor: visual\nexecute:\n  warning: false\n  message: false\ntoc: true\n---\n\n\n\n\nDuomenų kodavimas yra vienas svarbiausių žingsnių prieš statistinę analizę. Nuo to, kaip koduojate kintamuosius, priklauso, kokius statistinius metodus galėsite taikyti.\n\n# Kintamųjų tipai\n\nPrieš koduojant duomenis, svarbu suprasti kintamųjų tipus:\n\n| Tipas | Aprašymas | Pavyzdžiai |\n|-------|-----------|------------|\n| **Kategorinis** | Grupės, kurios neturi tvarkos | Lytis, spalva, miestas |\n| **Ranginis** | Grupės su tvarka | Išsilavinimas, Likert skalė |\n| **Tolydus** | Skaičiai su prasme | Amžius, svoris, ūgis |\n\n# Kategorinių kintamųjų kodavimas\n\nR kalboje kategoriniai kintamieji turėtų būti `factor` tipo:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr)\n\nduomenys <- data.frame(\n  lytis = c(\"V\", \"M\", \"V\", \"M\", \"V\"),\n  amzius = c(25, 32, 45, 28, 51)\n)\n\n# Paverčiame į faktorių\nduomenys$lytis <- factor(duomenys$lytis, \n                          levels = c(\"V\", \"M\"),\n                          labels = c(\"Vyras\", \"Moteris\"))\n\nstr(duomenys)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n'data.frame':\t5 obs. of  2 variables:\n $ lytis : Factor w/ 2 levels \"Vyras\",\"Moteris\": 1 2 1 2 1\n $ amzius: num  25 32 45 28 51\n```\n\n\n:::\n:::\n\n\n\n\n# Ranginių kintamųjų kodavimas\n\nRanginiai kintamieji turėtų būti koduojami su nurodyta tvarka:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nissilavinimas <- c(\"Vidurinis\", \"Aukštasis\", \"Pagrindinis\", \"Aukštasis\", \"Vidurinis\")\n\nissilavinimas_factor <- factor(\n  issilavinimas,\n  levels = c(\"Pagrindinis\", \"Vidurinis\", \"Aukštasis\"),\n  ordered = TRUE\n)\n\nissilavinimas_factor\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] Vidurinis   Aukštasis   Pagrindinis Aukštasis   Vidurinis  \nLevels: Pagrindinis < Vidurinis < Aukštasis\n```\n\n\n:::\n:::\n\n\n\n\n::: {.callout-tip}\n## Patarimas\nNaudokite `ordered = TRUE` ranginiams kintamiesiems - tai leis R teisingai interpretuoti kintamojo prigimtį!\n:::\n\n# Dummy kodavimas\n\nKai kuriems modeliams reikia konvertuoti kategorinius kintamuosius į skaitinius:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# model.matrix automatiškai sukuria dummy kintamuosius\nmodel.matrix(~ lytis, data = duomenys)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  (Intercept) lytisMoteris\n1           1            0\n2           1            1\n3           1            0\n4           1            1\n5           1            0\nattr(,\"assign\")\n[1] 0 1\nattr(,\"contrasts\")\nattr(,\"contrasts\")$lytis\n[1] \"contr.treatment\"\n```\n\n\n:::\n:::\n\n\n\n\n# Dažnos klaidos\n\n::: {.callout-warning}\n## Ko vengti?\n1. **Nekoduoti tekstinių kintamųjų** - R juos traktuos kaip `character`, ne `factor`\n2. **Neteisingai nurodyti lygius** - tai gali pakeisti bazinę kategoriją regresijoje\n3. **Naudoti skaičius kategoriniams kintamiesiems** - tai gali sukelti klaidų interpretacijoje\n:::\n\n# Praktinis pavyzdys\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\n# Sukuriame duomenis su teisingai koduotais kintamaisiais\napklausa <- data.frame(\n  amzius = sample(18:65, 100, replace = TRUE),\n  pasitenkinimas = factor(\n    sample(1:5, 100, replace = TRUE),\n    levels = 1:5,\n    labels = c(\"Labai nepatenkintas\", \"Nepatenkintas\", \"Neutralus\", \n               \"Patenkintas\", \"Labai patenkintas\"),\n    ordered = TRUE\n  )\n)\n\nggplot(apklausa, aes(x = pasitenkinimas)) +\n  geom_bar(fill = \"#4F46E5\") +\n  labs(title = \"Pasitenkinimo pasiskirstymas\", x = \"\", y = \"Skaičius\") +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](kaip-koduoti-duomenis_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "kaip-koduoti-duomenis_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}