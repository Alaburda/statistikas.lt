---
title: "Kaip naudoti Stjudento t-testą?"
description: "Palyginti dviejų imčių vidurkius yra standartinė užduotis atliekant tyrimus. Sužinokite, kaip ir kada taikyti Stjudento t-testą."
date: "2023-04-22"
categories: [statistika, t-testas, R]
image: kada-rinktis-t-testa_files/figure-html/unnamed-chunk-1-1.png
editor: visual
execute:
  warning: false
  message: false
toc: true
---

Palyginti dviejų imčių vidurkius yra standartinė užduotis atliekant tyrimus, todėl Stjudento t-testas yra vienas dažniausių taikomų statistinių testų. Jeigu atliekate tyrimus, tikėtina, jog susidursite su duomenimis, kur t-testas bus tinkamas. Dėl to svarbu suprasti, kada taikyti testą, kaip jį interpretuoti bei kaip jį pateikti publikacijoje.

# Kam skirtas t-testas?

T-testas yra skirtas palyginti dviejų imčių vidurkius. Tai gali būti:

- **Nepriklausomos imtys**: pavyzdžiui, vyrai ir moterys
- **Priklausomos (porinės) imtys**: pavyzdžiui, matavimai prieš ir po gydymo tam pačiam pacientui

# Kada rinktis t-testą?

T-testą galima atlikti su tolydžiu kintamuoju, kurį galima padalinti į dvi grupes. Tolydų kintamąjį toliau vadinsime priklausomu kintamuoju, o savo grupių kintamąjį - nepriklausomu kintamuoju.

Pirma, priklausomas kintamasis turi būti tolydus, t.y. jis turi gebėti įgyti daug skirtingų reikšmių. Tinkami priklausomi kintamieji:

-   **Matavimai, kurie gali įgyti be galo didelį kiekį reikšmių**: ūgis, svoris, amžius ir pan.
-   **Sudėtiniai skaičiai**, pavyzdžiui, ląstelių skaičius matymo lauke, euzinofilų skaičius kraujyje ir pan.
-   **Ranginiai klausimai** (iš dalies) - t-testas yra pakankamai atsparus nuokrypiams nuo normalumo.

Antra, priklausomas kintamasis, padalintas į 2 grupes, turi turėti panašią variaciją (t.y. standartinį nuokrypį) ir turi būti pasiskirstęs pagal normalųjį skirstinį. 

::: {.callout-tip}
## Patarimas
R naudoja Welch t-testą, kuriam nesvarbi skirtinga variacija. Todėl variacijos testavimas dirbant su R nėra būtinas!
:::

## Normalumo tikrinimas

Normalumą galima patikrinti vizualiai su QQ grafiku:

::: panel-tabset
## R

```{r}
library(ggplot2)

ggplot(iris, aes(sample = Sepal.Length)) + 
  stat_qq() + 
  stat_qq_line(color = "red") + 
  facet_wrap(~Species) + 
  labs(title = "3 vilkdalgių rūšių taurėlapių ilgio QQ grafikas", 
       subtitle = "iris duomenų rinkinys; kuo arčiau linijos centre yra taškai, tuo geriau.")
```

## Excel

QQ grafikas Excel'e sukuriamas šiek tiek kitaip - reikia naudoti specialų įrankį arba rankiniu būdu skaičiuoti teorines kvantiles.
:::

# Kaip atlikti t-testą?

::: panel-tabset
## R

```{r}
t.test(data = iris, Sepal.Length ~ Species, subset = Species %in% c("setosa", "versicolor"))
```

## Excel

Excel'e t-testą galima atlikti naudojant `T.TEST` funkciją arba Data Analysis ToolPak.
:::

# Kaip interpretuoti t-testą?

T-testo rezultate svarbiausios reikšmės:

1. **t reikšmė** - kuo toliau nuo 0, tuo didesnis skirtumas
2. **p reikšmė** - jei < 0.05, skirtumas yra statistiškai reikšmingas
3. **Pasikliautinasis intervalas** - parodo skirtumų intervalą

# Kaip raportuoti t-testą?

Štai šablonas, kurį galite naudoti:

> "Atlikus nepriklausomų imčių t-testą, nustatyta, kad setosa rūšies taurėlapių ilgis buvo statistiškai reikšmingai mažesnis (M = 5.01, SD = 0.35) nei versicolor rūšies (M = 5.94, SD = 0.52); t(86.54) = -10.52, p < 0.001."

# Jeigu negaliu taikyti t-testo?

Jeigu Stjudento t-testas nėra tinkamas, tokiu atveju reikėtų taikyti Mann-Whitney U testą. Aprašą apie testą galima rasti [čia](../kada-rinktis-mann-whitney/kada-rinktis-mann-whitney.qmd).
