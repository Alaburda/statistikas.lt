{
  "hash": "25069193f6988865fa6037f512e4216e",
  "result": {
    "markdown": "---\ntitle: \"Kaip atlikti koreliaciją?\"\neditor: visual\nreference-location: document\n---\n\n::: {.cell}\n\n:::\n\n\n# Pearson koreliacijos koeficientas\n\nPearson'o koreliacijos koeficientą labai nesudėtinga paaiškinti: įsivaizduokime tiesę, kurią nubrėžtume su funkcija y = f(x):\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'ggplot2' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'patchwork' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output-display}\n![](kaip-apskaiciuoti-koreliacija_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\nNelendant į matematines detales, kuo arčiau mūsų matavimai yra arčiau šios linijos, tuo koreliacijos koeficientas bus didesnis. Priešingai, jeigu taškai yra arčiau linijos, kuomet y reikšmės mažėja didėjant x reikšmėms, tuo koreliacijos koeficientas bus mažesnis. Koreliacijos koeficientas 1,0 ir -1,0 yra šios linijos.\n\nPajutimui, taip atrodo duomenys su skirtingais koreliacijos koeficientais[^1]:\n\n[^1]: Taip pat labai rekomenduoju šitą žaidimą išbandyti intuiciją apie koreliacijas: https://www.guessthecorrelation.com/\n\n![Iliustracija iš Danielle Navarro knygos \"Learning Statistics with R\". Kuo koreliacija yra arčiau nulio, tau labiau mūsų duomenys panašūs į debesėlį. 1 ir -1 yra, atitinkamai, tobula teigiama bei neigiama koreliacija.](images/image-1260747057.png)\n\nApskaičiuoti koreliacijos koeficientą galima ir su R, ir su Excel:\n\n::: panel-tabset\n## R\n\nR `cor()` funkcija leidžia lyginti kelis stulpelis iškart, o cor.test() taip pat pateikia statistinio testo rezultatus.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncor.test(iris$Sepal.Length, iris$Sepal.Width)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tPearson's product-moment correlation\n\ndata:  iris$Sepal.Length and iris$Sepal.Width\nt = -1.4403, df = 148, p-value = 0.1519\nalternative hypothesis: true correlation is not equal to 0\n95 percent confidence interval:\n -0.27269325  0.04351158\nsample estimates:\n       cor \n-0.1175698 \n```\n:::\n:::\n\n\nStatistinio testo rezultatai šiuo atveju nėra visiškai sąžiningi, nes tai yra tiesinės regresijos rezultatai. Juos laisvai galima raportuoti, bet tai parodo, jog tikriausiai norime tiesiog atlikti tiesinę regresiją.\n\n## Excel\n\nExcel grąžina tik patį koreliacijos koeficientą, bet su XLMiner Toolpak galima lyginti kelis stulpelius vienu metu!\n\n![](images/Recording%202023-04-20%20232338.gif)\n:::\n\n# Spearman koreliacijos koeficientas\n\nPearson'o koreliacijos pagrindinis trūkumas - jis tinkamas tiesiniams ryšiams. Kitaip tariant, koreliacijos koeficientas nusako, kaip gerai mūsų dviejų kintamųjų matavimai nugula aplinkui tobulą tiesę (r = 1.0). Tais atvejais, kai ryšys nėra tiesiškas, pavyzdžiui, truputis pastangų rengiantis egzaminui turės didelę įtaką pažymiui (tarkim, nuo 4 iki 7), bet papildomos pastangos padidins pažymį tik truputį (nuo 7 iki 8), Pearson'o koreliacijos koeficientas nepateiks teisingo įverčio. Tokiu atveju turime naudoti Spearman'o koreliaciją.\n\nNaudodami koreliacijas tikriausiai vengiame gudrių statistinių modelių, todėl šiuo atveju Spearman koreliacija yra labai analogiška Wilcoxon dviejų imčių testui arba Kruskal-Wallis testui. Pirma, mūsų duomenų rinkinys yra paverčiamas į rangines reikšmes, o tada - skaičiuojamas gautų rangų koreliacijos koeficientas.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncor.test(iris$Sepal.Length, iris$Sepal.Width, method = \"spearman\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in cor.test.default(iris$Sepal.Length, iris$Sepal.Width, method =\n\"spearman\"): Cannot compute exact p-value with ties\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tSpearman's rank correlation rho\n\ndata:  iris$Sepal.Length and iris$Sepal.Width\nS = 656283, p-value = 0.04137\nalternative hypothesis: true rho is not equal to 0\nsample estimates:\n       rho \n-0.1667777 \n```\n:::\n:::\n\n\n# Kaip raportuoti koreliaciją?\n\n# \n",
    "supporting": [
      "kaip-apskaiciuoti-koreliacija_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}